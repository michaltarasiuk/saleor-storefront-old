query getHeaderMenu($channel: String, $languageCode: LanguageCodeEnum!) {
  menu(name: "header", channel: $channel) {
    items {
      ...headerMenuItemFragment
    }
  }
}

# TODO: Fragment masking
fragment headerMenuItemFragment on MenuItem {
  id
  ...headerMenuLinkFragment
  ...headerDropdownMenuFragment
}

# TODO: Fragment masking
fragment headerMenuLinkFragment on MenuItem {
  name
  page {
    slug
  }
  ...headerMenuItemTranslation
}

# TODO: Fragment masking
fragment headerDropdownMenuFragment on MenuItem {
  ...headerMenuDropdownItemFragment
  children {
    id
    ...headerMenuDropdownItemFragment
    children {
      id
      ...headerMenuDropdownItemFragment
      children {
        id
        ...headerMenuDropdownItemFragment
      }
    }
  }
}

# TODO: Fragment masking
fragment headerMenuDropdownItemFragment on MenuItem {
  name
  category {
    slug
    name
  }
  ...headerMenuItemTranslation
}

fragment headerMenuItemTranslation on MenuItem {
  translation(languageCode: $languageCode) {
    name
  }
}
